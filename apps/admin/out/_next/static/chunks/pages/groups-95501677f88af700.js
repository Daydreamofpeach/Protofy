(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6736],{6984:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups",function(){return t(31237)}])},31237:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t(52322),r=t(3559),s=t(30195),o=t(40214),i=t(85077),l=t(50897),c=t(79562),p=t(1888),d=t(42783),u=t(48115),m=t(1201),_=t(2784),h=t(6289),w=t(26887);let f={},g="/adminapi/v1/groups",x="/adminapi/v1/workspaces";var b={groups:{component:e=>{var n,t;let{pageState:p,initialItems:b,pageSession:v,extraData:k}=e;(0,m.G)(()=>"At this moment the user is browsing the group management page. The group management page allows to list, create, read, update and delete groups, groups contain privileges (admin true/false) and are associated to users when creating users, in the field 'type'.\n      A group has a name, the privilege level (admin true/false), and a 0 or more workspaces associated. A workspace is a menu for the admin panel. If the user has more than one workspace, the admin panel will show a select list in the topbar to switch between workspaces.\n      "+(b.isLoaded?"Currently the system returned the following information: "+JSON.stringify(b.data):""));let[j,y]=(0,_.useState)(null!==(n=null==k?void 0:k.workspaces)&&void 0!==n?n:(0,h.E)("pending"));return(0,w.a)(e=>{u.bl.get(x,e)},y,null==k?void 0:k.workspaces),(0,a.jsx)(o.D,{title:"Groups",pageSession:v,children:(0,a.jsx)(i.V,{integratedChat:!0,enableAddToInitialData:!0,disableViewSelector:!0,defaultView:"list",rowIcon:d.Q,sourceUrl:g,initialItems:b,numColumnsForm:1,name:"group",extraFieldsForms:{workspaces:s.z.array(s.z.union([s.z.literal(""),s.z.literal("")])).generateOptions(()=>{var e;return null===(e=j.data)||void 0===e?void 0:e.items.map(e=>e.name)}).after("name")},columns:l.Z.columns(l.Z.column("name","name",!0,void 0,!0,"250px"),l.Z.column("workspaces","workspaces",!1,e=>Object.keys(null!==(t=null==e?void 0:e.workspaces)&&void 0!==t?t:[]).length?Object.keys(e.workspaces).map((n,t)=>(0,a.jsx)(c.A,{ml:t?"$2":"$0",text:e.workspaces[n],color:"$color5"},n)):(0,a.jsx)(c.A,{text:"empty",color:"$gray5"}),!0,"200px")),model:r.d,pageState:p,icons:f,dataTableCardProps:{itemMinWidth:300}})})},getServerSideProps:(0,p.eq)(g,["admin"],{},async()=>({workspaces:await u.bl.get(x)}))}},v=t(97729),k=t.n(v);function j(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k(),{children:(0,a.jsx)("title",{children:"Protofy - Groups"})}),(0,a.jsx)(b.groups.component,{...e})]})}},3559:function(e,n,t){"use strict";t.d(n,{d:function(){return i}});var a=t(30195),r=t(75370),s=t(54283);let o=r.V_.object({name:a.z.string().label("name").hint("user, admin, ...").static().id().search(),workspaces:a.z.array(a.z.string()).hidden(),admin:a.z.boolean().optional()}),i=s.$.createDerived("GroupModel",o)},79562:function(e,n,t){"use strict";t.d(n,{A:function(){return l}});var a=t(52322),r=t(2784),s=t(8939),o=t(60545),i=t(70396);let l=e=>{let{loading:n,icon:t,text:l,bold:c,color:p,...d}=e;return(0,a.jsxs)(s.sL,{ai:"center",jc:"center",bc:null!=p?p:"$color5",p:2,px:"$3",br:25,...d,children:[t&&r.cloneElement(t,{size:20,strokeWidth:.7,color:"var(--color)"}),l&&(0,a.jsx)("span",{className:(0,i.concatClassName)("  is_SizableText _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px   _o-0d0t9746  _col-675002279 _ff-299667014 _fow-233016047 _ls-167743966 _fos-229441127 _lh-222976480 font_body  "+(t?" _ml-1481558214":" _ml-1481558400")+"  _fow-900"),children:l}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-9px _miw-9px _fs-0 _pe-none _w-9px _h-9px "}),(0,a.jsx)(o.$,{color:"var(--color8)",scale:.7,size:"small"})]})]})};t(18701)},18701:function(){}},function(e){e.O(0,[3950,9331,359,3846,2516,705,6029,9884,8164,1004,3043,5685,214,1773,3265,9377,9401,8404,9774,2888,179],function(){return e(e.s=6984)}),_N_E=e.O()}]);