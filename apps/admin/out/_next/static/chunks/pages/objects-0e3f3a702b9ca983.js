(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8774],{21599:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/objects",function(){return r(60356)}])},60356:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(52322),n=r(52415),l=r(40214),i=r(85077),s=r(50897),o=r(79562),c=r(1888),u=r(89560),m=r(66788),d=r(82695);let p={};var z={objects:{component:e=>{let{pageState:t,initialItems:r,pageSession:c}=e,{replace:z}=(0,d.N)(t);return(0,a.jsx)(l.D,{title:"Objects",pageSession:c,children:(0,a.jsx)(i.V,{integratedChat:!0,rowIcon:m.x,sourceUrl:"/adminapi/v1/objects",initialItems:r,numColumnsForm:1,name:"object",columns:s.Z.columns(s.Z.column("name","name",!0),s.Z.column("features","features",!0,e=>Object.keys(e.features).map(e=>(0,a.jsx)(o.A,{text:e,color:"$gray5"})))),model:n.Wk,pageState:t,icons:p,deleteable:e=>{if(!Array.isArray(e))return 0===Object.keys(e.data.features).length;for(let t of e)if(0!==Object.keys(t.features).length)return!1;return!0},extraMenuActions:[{text:"Edit Object file",icon:u.z,action:e=>{z("editFile",e.getDefaultSchemaFilePath())},isVisible:e=>!0}]})})},getServerSideProps:(0,c.eq)("/adminapi/v1/objects",["admin"],{orderBy:"name"})}},_=r(97729),f=r.n(_);function b(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f(),{children:(0,a.jsx)("title",{children:"Protofy - Objects"})}),(0,a.jsx)(z.objects.component,{...e})]})}},52415:function(e,t,r){"use strict";r.d(t,{Wk:function(){return o}});var a=r(30195),n=r(54283);let l=a.z.object({id:a.z.string().search().id().generate(e=>e.name.charAt(0).toUpperCase()+e.name.slice(1)+"Model").hidden(),name:a.z.string().search().static(),features:a.z.any().generate({},!0).hidden(),keys:a.z.record(a.z.string().optional(),a.z.object({type:a.z.union([a.z.literal("string"),a.z.literal("number"),a.z.literal("boolean"),a.z.literal("array"),a.z.literal("object"),a.z.literal("record"),a.z.literal("union")]),params:a.z.array(a.z.string()).optional(),modifiers:a.z.array(a.z.object({name:a.z.union([a.z.literal("id"),a.z.literal("search"),a.z.literal("generate"),a.z.literal("display"),a.z.literal("optional"),a.z.literal("email"),a.z.literal("label"),a.z.literal("hint"),a.z.literal("static"),a.z.literal("min"),a.z.literal("max"),a.z.literal("secret"),a.z.literal("onCreate"),a.z.literal("onUpdate"),a.z.literal("onRead"),a.z.literal("onDelete"),a.z.literal("onList"),a.z.literal("name")]),params:a.z.array(a.z.string()).optional()}).name("name")).optional()}).name("name")).generate({})}),i=a.z.object({...l.shape}),s=e=>({...e,keys:Object.keys(e.keys?e.keys:{}).reduce((t,r)=>({...t,[r]:{type:"string",...e.keys[r]}}),{})});class o extends n.J{getDefaultSchemaFilePath(){return o.getDefaultSchemaFilePath(this.data.name)}static getDefaultSchemaFilePath(e){return"/packages/app/bundles/custom/objects/"+e+".ts"}create(e){let t=null!=e?e:this.getData(),r=s(t);return super.create(r)}update(e,t){let r=null!=t?t:e.data,a=s(r);return super.update(e,a)}static _newInstance(e,t){return new o(e,t)}constructor(e,t){super(e,i,t)}}},79562:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var a=r(52322),n=r(2784),l=r(8939),i=r(60545),s=r(70396);let o=e=>{let{loading:t,icon:r,text:o,bold:c,color:u,...m}=e;return(0,a.jsxs)(l.sL,{ai:"center",jc:"center",bc:null!=u?u:"$color5",p:2,px:"$3",br:25,...m,children:[r&&n.cloneElement(r,{size:20,strokeWidth:.7,color:"var(--color)"}),o&&(0,a.jsx)("span",{className:(0,s.concatClassName)("  is_SizableText _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px   _o-0d0t9746  _col-675002279 _ff-299667014 _fow-233016047 _ls-167743966 _fos-229441127 _lh-222976480 font_body  "+(r?" _ml-1481558214":" _ml-1481558400")+"  _fow-900"),children:o}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-9px _miw-9px _fs-0 _pe-none _w-9px _h-9px "}),(0,a.jsx)(i.$,{color:"var(--color8)",scale:.7,size:"small"})]})]})};r(18701)},18701:function(){}},function(e){e.O(0,[3950,9331,359,3846,2516,705,6029,9884,8164,1004,3043,5685,214,1773,3265,9377,9401,8404,9774,2888,179],function(){return e(e.s=21599)}),_N_E=e.O()}]);