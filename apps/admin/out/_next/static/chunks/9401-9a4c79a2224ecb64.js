(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{54283:function(e,t,r){"use strict";r.d(t,{$:function(){return l},J:function(){return i}});var s=r(94801),a=r(55858);class i{get(e,t){var r;return null!==(r=this.data[e])&&void 0!==r?r:t}getObjectSchema(){return this.objectSchema}getId(){return this.data[this.idField]}setId(e,t){return new this.constructor({...t||this.data,[this.idField]:e},this.session)}isVisible(){return!this.isDeleted()}isDeleted(){return!!this.data._deleted}list(e,t,r){if(!e)return this.read();{let{parsed:t,searchWithoutTags:r}=function(e){let t;let r=/(\w+):("[^"]+"|\S+)/g,s={},a=e;for(;null!==(t=r.exec(e));){let e=t[1].toLowerCase(),r=t[2].replace(/"/g,"").toLowerCase();s[e]=r,a=a.replace(t[0],"")}return{parsed:s,searchWithoutTags:a=a.trim()}}(e);for(let[e,r]of Object.entries(t))if(!this.data.hasOwnProperty(e)||this.data[e]!=r){console.log("discarded: ",this.data[e]);return}let a=this.objectSchema.is("search").getFields();for(var s=0;s<a.length;s++)if((this.data[a[s]]+"").toLowerCase().includes(r.toLowerCase()))return this.read()}}async listTransformed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=this.list(e,r,s);if(a)return await this.getObjectSchema().apply("list",a,t)}create(e){let t=this.getData(e);return new this.constructor(t,this.session).validate()}async createTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.getObjectSchema().apply("create",{...this.data},e);return this.create(t)}read(e){return{...this.data}}async readTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=await this.getObjectSchema().apply("read",this.read(t),e);return r}update(e,t){return e.setId(this.getId(),{...t||e.data})}async updateTransformed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await this.getObjectSchema().apply("update",{...e.data},t,{...this.data});return this.update(e,r)}delete(e){return new this.constructor({_deleted:!0,...e||this.data},this.session)}async deleteTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.getObjectSchema().apply("delete",{...this.data},e);return this.delete(t)}validate(){return this.schema.parse(this.data),this}serialize(){return JSON.stringify(this.data)}static getApiOptions(){throw Error("Derived class must implement getApiOptions")}static _newInstance(e,t){throw Error("Derived class must implement _newInstance.")}static unserialize(e,t){return this._newInstance(JSON.parse(e),t)}static load(e,t){return this._newInstance(e,t)}static sort(e,t,r){return e.sort((e,s)=>e[t]>s[t]?"asc"===r?1:-1:e[t]<s[t]?"asc"===r?-1:1:0)}getData(e){return{...this.getObjectSchema().applyGenerators(null!=e?e:this.data)}}constructor(e,t,r){var i;this.data=e,this.session=null!=r?r:(0,s.ed)(),this.schema=t,this.objectSchema=a.U.load(this.schema),this.idField=null!==(i=this.objectSchema.getFirst("id"))&&void 0!==i?i:"id"}}class l extends i{static _newInstance(e,t){throw Error("Derived class must implement _newInstance.")}static createDerived(e,t,r,s){class a extends l{static _newInstance(e,t){return new a(e,t)}static getApiOptions(){return{name:r,prefix:s}}constructor(e,r){super(e,t,r)}}return a.schemaInstance=t,Object.defineProperty(a,"name",{value:e,writable:!1}),a}constructor(e,t,r){super(e,t,r)}}},55858:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var s=r(34406);class a{getFields(){return Object.keys(this.shape)}applyGenerators(e){let t={...e};return Object.keys(this.shape).forEach(r=>{if(this.shape[r]._def.generate){let s=this.shape[r]._def.generate;(!e[r]||s.force)&&(t[r]="function"==typeof s.generator?s.generator(e):s.generator)}}),t}async apply(e,t,r,a){let i={...t},l=this.is("events"),n=Object.keys(l.shape);for(var o=0;o<n.length;o++){let t=n[o],c=l.shape[t],_=void 0!==s&&s.versions&&s.versions.node,p=c._def.events.filter(t=>t.eventName==e&&(!t.eventContext||"client"==t.eventContext&&!_||"server"==t.eventContext&&_));for(var d=0;d<p.length;d++){let e=p[d];r[e.eventHandler]&&(i=await r[e.eventHandler](t,e,i,a))}}return i}getLayout(e){let t=[[]],r=0;return Object.keys(this.shape).forEach(s=>{let a=this.shape[s];t[r].length==e&&(t.push([]),r++),t[r].push({...a,name:s})}),t}getFirst(e){return Object.keys(this.shape).find(t=>{if(this.shape[t]._def[e])return t})}isDisplay(e){let t={};return Object.keys(this.shape).forEach(r=>{(!this.shape[r]._def.display||this.shape[r]._def.display.includes("*")||this.shape[r]._def.display.includes(e))&&(t[r]=this.shape[r])}),new a(t)}is(e){let t={};return Object.keys(this.shape).forEach(r=>{this.shape[r]._def[e]&&(t[r]=this.shape[r])}),new a(t)}isNot(e){let t={};return Object.keys(this.shape).forEach(r=>{this.shape[r]._def[e]||(t[r]=this.shape[r])}),new a(t)}isAfter(e){let t={};return Object.keys(this.shape).forEach(r=>{var s;(null===(s=this.shape[r]._def)||void 0===s?void 0:s.after)&&this.shape[r]._def.after==e&&(t[r]=this.shape[r])}),new a(t)}isBefore(e){let t={};return Object.keys(this.shape).forEach(r=>{var s;(null===(s=this.shape[r]._def)||void 0===s?void 0:s.before)&&this.shape[r]._def.before==e&&(t[r]=this.shape[r])}),new a(t)}merge(e){let t={};return Object.keys(this.shape).forEach(r=>{let s=e.isBefore(r);(t={...t,...s.shape})[r]=this.shape[r];let a=e.isAfter(r);t={...t,...a.shape}}),new a(t)}static load(e){return new a(e.shape)}constructor(e){this.shape=e}}},10347:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var s=r(52322),a=r(2784);let i=(0,a.createContext)({active:0,setActive:e=>{}}),l=a.forwardRef((e,t)=>{let{initialState:r=0,children:l}=e,[n,o]=(0,a.useState)(r);return(0,s.jsx)(i.Provider,{value:{active:n,setActive:o},children:l})});t.Z=l},91681:function(e,t,r){"use strict";var s=r(52322),a=r(2784),i=r(99530),l=r(66306),n=r(10347);let o=a.forwardRef((e,t)=>{let{activeId:r,onSetActive:o=e=>{},...d}=e,{active:c,setActive:_}=(0,a.useContext)(n.t);return(0,s.jsx)("div",{ref:t,className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:(0,s.jsx)(i.E4.Item,{children:(0,s.jsx)(l.zx,{onPress:()=>{o(r),_(r)},theme:r===c?"active":null,border:0,focusStyle:{outlineWidth:0},chromeless:r!==c,borderRadius:0,size:"$3",...d})},r)})});t.Z=o,r(57192)},61667:function(e,t,r){"use strict";var s=r(52322),a=r(2784),i=r(10347),l=r(52026);let n=a.forwardRef((e,t)=>{let{activeId:r,fast:n=!1,children:o,...d}=e,{active:c}=(0,a.useContext)(i.t),_=c==r;return n?(0,a.useMemo)(()=>(0,s.jsx)(l.Stack,{ref:t,position:"absolute",top:_?0:-1e4,...d,children:o}),[_]):_?(0,s.jsx)(l.Stack,{...d,ref:t,children:o}):null});t.Z=n},65126:function(e,t,r){"use strict";var s=r(52322),a=r(2784),i=r(99530);let l=a.forwardRef((e,t)=>(0,s.jsx)(i.E4,{ref:t,scrollable:!0,bordered:!0,bc:"$color2",maxWidth:"100%",als:"center",ov:"hidden",...e,children:e.children}));t.Z=l},50897:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(52322);r(2784);var a=r(25237),i=r.n(a);let l=i()(()=>Promise.all([r.e(7788),r.e(3554)]).then(r.bind(r,90704)).then(e=>e.default),{loadableGenerated:{webpack:()=>[90704]},ssr:!1}),n=i()(()=>r.e(4210).then(r.bind(r,4210)).then(e=>e.default),{loadableGenerated:{webpack:()=>[4210]},ssr:!1}),o={component:e=>{let{pagination:t,conditionalRowStyles:r,rowsPerPage:a,columns:i,rows:o,onRowPress:d,handlePerRowsChange:c,handlePageChange:_,totalRows:p,currentPage:u,handleSort:m}=e;return(0,s.jsx)(n,{print:!1,export:!1,filter:!1,columns:i,data:o,children:(0,s.jsx)(l,{conditionalRowStyles:r,responsive:!0,striped:!0,pointerOnHover:!0,columns:i,data:o,defaultSortField:"created",defaultSortAsc:!1,onRowClicked:d,onChangeRowsPerPage:c,onChangePage:_,paginationTotalRows:p,paginationDefaultPage:u,pagination:t,paginationServer:!0,sortServer:!0,paginationPerPage:a,onSort:m,paginationRowsPerPageOptions:[10,15,20,25,50,100,500,1e3]})})},column:function(e,t,r,s,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{name:e,selector:t,sortable:r,cell:s,grow:a,minWidth:i}},columns:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}}},85077:function(e,t,r){"use strict";r.d(t,{V:function(){return ei},p:function(){return ea}});var s=r(52322),a=r(8939),i=r(89929),l=r(66306),n=r(2784),o=r(39684),d=r(26887),c=r(48115);let _=(e,t,r,s)=>{let[a,i]=(0,n.useState)(e);(0,d.a)(e=>c.bl.get(t,e),i,a);let{message:l}=(0,o.mU)(r);return(0,n.useEffect)(()=>{if(l&&l.message){let e="string"==typeof l.message?l.message:JSON.stringify(l.message),t=JSON.parse(e),[,,r]=l.topic.split("/");i(e=>{let a=e.data||{},i=a.items||[];switch(r){case"create":return{...e,data:{...a,items:[t,...i]}};case"delete":let l=i.filter(e=>s.load(e).getId()!==s.load(t).getId());return{...e,data:{...a,items:l}};case"update":let n=i.map(e=>s.load(e).getId()===s.load(t).getId()?t:e);return{...e,data:{...a,items:n}};default:return e}})}},[l]),[a,i]};var p=r(52026),u=r(99553),m=r(24066),x=r(6289),h=r(40914),f=r(94484);let b=e=>{let{index:t,data:r,width:a}=e,i=r.element.data,l=r.model.load(i),n=(0,f.d5)();return r.getCard?r.getCard(i,a):(0,s.jsx)(h.q,{height:r.itemHeight,cursor:"pointer",topBarOutSideScrollArea:!1,backgroundColor:"$color1",elevation:"$0",hoverStyle:{o:.8,backgroundColor:"$"+n.tint+"1",elevation:"$1"},borderWidth:1,pointerEvents:"none",pointerEventsControls:"none",onPress:()=>r.onSelectItem(l),...r.getPicture?{image:r.getPicture(i,a),hasPicture:!0}:{},children:r.getBody?r.getBody(i,a):(0,s.jsx)(p.Stack,{mb:"$4",width:a,children:(0,s.jsx)(m.G,{title:"",initialData:r.element,name:l.getId(),spinnerSize:75,loadingText:(0,s.jsxs)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center ",children:["Loading data...",(0,s.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-bold _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body "})]}),objectId:l.getId(),sourceUrl:r.sourceUrl+"/"+l.getId(),mode:"preview",model:r.model,extraFields:r.extraFields,icons:r.icons,customFields:r.customFields,columnWidth:a-r.contentMargin,columnMargin:0,onDelete:r.onDelete,deleteable:r.deleteable,extraMenuActions:r.extraMenuActions})},i.key)})},v=e=>{let{overScanBy:t=5,gridElementCard:r,itemMinWidth:a=400,itemHeight:i,rightGap:l=30,contentMargin:o=40,onSelectItem:d=e=>{},extraMenuActions:c,spacing:_=20,getPicture:m,getBody:h,getCard:f,model:v,items:g,sourceUrl:w,customFields:j,onDelete:y,deleteable:N,extraFields:S,icons:C,children:I,...P}=e,k=(0,n.useRef)(null),O=g.map((e,t)=>({id:"item_"+t,element:(0,x.E)("loaded",e),model:v,sourceUrl:w,customFields:j,extraFields:S,icons:C,itemMinWidth:a,getPicture:m,getBody:h,getCard:f,spacing:_,contentMargin:o,onSelectItem:d,onDelete:y,deleteable:N,itemHeight:i,extraMenuActions:c}));return(0,s.jsxs)(p.Stack,{f:1,ref:k,...P,children:[(0,s.jsx)(u.rj,{overScanBy:t,rightGap:l,containerRef:k,spacing:_,data:O,card:null!=r?r:b,itemMinWidth:a},O.length),I]})};r(18190);var g=r(43260);let w=e=>{let{index:t,data:r,width:a}=e,i=r.element,l=r.model.load(i);return(0,s.jsx)(p.Stack,{width:a,children:(0,s.jsx)(g.I,{compact:!0,innerContainerProps:{mb:"$3",mt:"$5",mx:"$3"},json:i,name:l.getId(),isTemplate:!1})},i.key)},j=e=>{var t,r;let{itemMinWidth:a=400,rightGap:i=30,contentMargin:l=40,spacing:o=20,...d}=e,c=(0,n.useRef)(null),{items:_,model:m}=(0,n.useContext)(ea),x=null==_?void 0:null===(r=_.data)||void 0===r?void 0:null===(t=r.items)||void 0===t?void 0:t.map((e,t)=>({id:"item_"+t,element:e,model:m}));return(0,s.jsx)(p.Stack,{ml:"$5",ref:c,f:1,...d,children:(0,s.jsx)(u.rj,{rightGap:i,containerRef:c,spacing:o,data:x,card:w,itemMinWidth:a},x.length)})};var y=r(10836),N=r(96666),S=r(10347),C=r(51813),I=r(91838),P=r(65126),k=r(91681),O=r(53726),$=r(68604),A=r(81815),E=r(99062),D=r(57909),F=r(57441),Z=r(40641),T=r(62624),z=r(30195),R=r(53763),L=r(9393),W=r(57643),q=r(82695),M=r(26879),U=r(50897),V=r(1963),B=r(61773),G=r(96455);let J=e=>{var t,r,a;let{sourceUrl:i,onDelete:l=()=>{},deleteable:o=()=>{},extraMenuActions:d=[],enableAddToInitialData:c}=e,{items:_,model:u,selected:m,setSelected:x,state:h,push:f,replace:b,mergePush:v,tableColumns:g,rowIcon:w,onSelectItem:j}=(0,n.useContext)(ea),y=[{when:e=>m.some(t=>t.id===u.load(e).getId()),style:{backgroundColor:"var(--color4)"},"&:hover":{backgroundColor:"var(--color4)"}}],N=u.load({}),S=N.getObjectSchema().isDisplay("table"),C=["ZodString","ZodNumber","ZodBoolean"],P=null!=g?g:U.Z.columns(...Object.keys(S.shape).filter(e=>{var t;return C.includes(null===(t=S.shape[e]._def)||void 0===t?void 0:t.typeName)}).map(e=>{var t;return U.Z.column(null!==(a=null===(t=S.shape[e]._def)||void 0===t?void 0:t.label)&&void 0!==a?a:e,e,!0)}));return(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558276 _fw-wrap ",children:(0,s.jsx)(I.I,{children:(0,s.jsx)(U.Z.component,{pagination:!1,conditionalRowStyles:y,rowsPerPage:h.itemsPerPage?h.itemsPerPage:25,handleSort:(e,t)=>v({orderBy:e.selector,orderDirection:t}),handlePerRowsChange:e=>f("itemsPerPage",e),handlePageChange:e=>f("page",parseInt(e,10)-1),currentPage:(isNaN(parseInt(h.page,10))?0:parseInt(h.page,10))+1,totalRows:null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.total,columns:[U.Z.column((0,s.jsx)(p.Theme,{reset:!0,children:(0,s.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:[(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mt-1481558214 _ml-1481558152 _o-0d0t846 ",children:(0,s.jsx)(M.XZ,{focusStyle:{outlineWidth:0},checked:m.length>1,onPress:e=>{if(m.length)x([]);else{var t,r;console.log("selection all: ",null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.items),x(null==_?void 0:null===(r=_.data)||void 0===r?void 0:r.items)}},children:(0,s.jsx)(M.XZ.Indicator,{children:(0,s.jsx)(V.G,{})})})}),m.length>1&&(0,s.jsx)(G.o,{enableAddToInitialData:c,type:"bulk",mt:"1px",ml:"-5px",element:m,sourceUrl:i,deleteable:o,onDelete:l,extraMenuActions:d})]})}),"",!1,e=>(0,s.jsx)(p.Theme,{reset:!0,children:(0,s.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ml-1481558152 _o-0d0t846 ",children:[(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mt-1481558214 ",children:(0,s.jsx)(M.XZ,{focusStyle:{outlineWidth:0},onPress:()=>{let t=e=>u.load(e).getId(),r=t(e),s=m.some(e=>t(e)===r);s?x(m.filter(e=>t(e)!==r)):x([...m,e])},checked:m.some(t=>u.load(t).getId()===u.load(e).getId()),children:(0,s.jsx)(M.XZ.Indicator,{children:(0,s.jsx)(B.J,{})})})}),(0,s.jsx)(G.o,{enableAddToInitialData:c,type:"item",ml:"-5px",mt:"1px",element:u.load(e),sourceUrl:i+"/"+u.load(e).getId(),deleteable:o,onDelete:l,extraMenuActions:d}),w&&(0,s.jsx)(I.I,{children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _o-0d0t846 _ml-1481558214 _t-6px ",children:n.createElement(w,{size:"$1",color:"$color7"})})})]})}),!0,w?"115px":"75px"),...P],rows:null==_?void 0:null===(r=_.data)||void 0===r?void 0:r.items,onRowPress:e=>j?j(u.load(e)):b("item",u.load(e).getId())})})})};r(1435);var H=r(61667),X=r(3265),K=r(95753),Q=r(46835),Y=r(71932),ee=r(5632);let et="  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ml-1316330238 _ai-center ",er="  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _ml-1481558152 ",es="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",ea=(0,n.createContext)({items:(0,x.E)("pending"),model:null,selected:[],setSelected:e=>null,onSelectItem:void 0,state:{},push:()=>null,mergePush:()=>null,removePush:()=>null,replace:()=>null,tableColumns:[],rowIcon:null,sourceUrl:""});function ei(e){var t,r,o,p,u,h;let{onSelectItem:f,itemData:b,rowIcon:g,disableViewSelector:w=!1,initialItems:M,sourceUrl:U,numColumnsForm:V=1,name:B,pluralName:ei,entityName:el,hideAdd:en=!1,enableAddToInitialData:eo=!1,pageState:ed,icons:ec={},model:e_,extraFields:ep={},columns:eu,onEdit:em=e=>e,onAdd:ex=e=>e,views:eh,extraViews:ef=[],openMode:eb="edit",disableToggleMode:ev,customFields:eg={},dataTableRawProps:ew={},dataTableListProps:ej={},dataTableGridProps:ey={},extraFieldsForms:eN={},extraFieldsFormsEdit:eS={},extraFieldsFormsAdd:eC={},customFieldsForms:eI={},defaultView:eP="list",disableViews:ek=[],toolBarContent:eO=null,onAddButton:e$,extraMenuActions:eA=[],deleteable:eE=()=>!0,integratedChat:eD=!1,objectProps:eF={},disableRealTimeUpdates:eZ=!1,refreshOnHotReload:eT=!1}=e,ez=null!==(p=null!=el?el:ei)&&void 0!==p?p:B+"s",{query:eR}=(0,ee.useRouter)(),[eL,eW]=(0,n.useState)(null!=ed?ed:eR),[eq]=eZ?[!1]:_(M,{url:U,...null!=ed?ed:{}},"notifications/"+ez+"/#",e_),[eM,eU]=(0,n.useState)(M),[eV,eB]=(0,n.useState)(null!=M?M:(0,x.E)("pending")),[eG,eJ]=(0,n.useState)(!1),{push:eH,mergePush:eX,removePush:eK,replace:eQ}=(0,q.N)(eL),[eY,e0]=(0,n.useState)([]),[e1,e5]=(0,n.useState)(b),{search:e2,setSearch:e4,setSearchName:e3}=(0,n.useContext)(Q.c),e6=eA&&eA.some(e=>e.menus&&e.menus.includes("global"));(0,q.v)(eW);let e7=async()=>{let e=await c.bl.get({url:U,...eL});eU(e)};(0,n.useEffect)(()=>{},[]),(0,d.a)(e=>{c.bl.get({url:U,...eL},e)},eU,M),(0,n.useEffect)(()=>{eM&&eM.isLoaded&&(console.log("set current items: ",eM),eB(eM))},[eM]),(0,W.rf)(()=>{console.log("remote changes received from mqtt, refetch"),e7()},[eq]),(0,W.rf)(()=>{e2?eH("search",e2,!1):eK("search")},[e2]),(0,n.useEffect)(()=>{e3(ez)}),(0,W.rf)(()=>{e7()},[eL.orderBy+"_"+eL.itemsPerPage+"_"+eL.page+"_"+eL.search+"_"+eL.orderDirection]);let e9=(0,R.Py)(),e8=[{name:"list",icon:E.a,component:J,props:{sourceUrl:U,deleteable:eE,onDelete:()=>{},enableAddToInitialData:eo,extraMenuActions:eA,...ej}},{name:"grid",icon:A.J,component:v,props:{mt:"$8",model:e_,items:null==eM?void 0:null===(t=eM.data)||void 0===t?void 0:t.items,sourceUrl:U,customFields:eg,extraFields:ep,icons:ec,ml:"$5",deleteable:eE,onDelete:()=>{},onSelectItem:f||(e=>eQ("item",e.getId())),extraMenuActions:eA,...ey}},{name:"raw",icon:D.S,component:j,props:{mt:"$8",...ew}}],te=(null!=eh?eh:[...e8,...ef]).filter(e=>!ek.includes(e.name)),tt=-1!=te.findIndex(e=>e.name==eL.view)?te.findIndex(e=>e.name==eL.view):te.findIndex(e=>e.name==eP),tr=eV&&eV.isLoaded?Math.ceil((null===(r=eV.data)||void 0===r?void 0:r.total)/(null===(o=eV.data)||void 0===o?void 0:o.itemsPerPage)):0;return eM&&eM.isError?(0,s.jsxs)(y.Z,{children:["Error: ",eM.error&&eM.error.error?eM.error.error:eM.error]}):(0,s.jsx)(N.Z,{atom:eV,children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _h-10037 _fg-1 ",children:(0,s.jsx)(ea.Provider,{value:{items:eV,sourceUrl:U,model:e_,selected:eY,setSelected:e0,onSelectItem:f,state:eL,push:eH,mergePush:eX,removePush:eK,replace:eQ,tableColumns:eu,rowIcon:g},children:(0,s.jsxs)(S.Z,{initialState:-1==tt?0:tt,children:[(0,s.jsx)(C.a,{integratedChat:!0,p:"$0",hideAccept:!0,setOpen:e=>{eK("editFile")},open:eL.editFile,children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1316330145 _h-90vh _w-90vw ",children:(0,s.jsx)(X.l,{isFull:!1,hideCloseIcon:!1,isModified:!1,setIsModified:()=>{},icons:[(0,s.jsx)(K.q,{onPress:()=>{eK("editFile")},children:(0,s.jsx)(F.X,{color:"var(--color)",size:"$1"})})],currentFileName:(e=>{let t=e.split("/");return t.pop()})(null!==(u=eL.editFile)&&void 0!==u?u:""),currentFile:eL.editFile})})}),(0,s.jsx)(C.a,{integratedChat:!0,p:"$2",pt:"$5",pl:"$5",setOpen:eJ,open:eG,hideAccept:!0,description:"",children:(0,s.jsx)(a.FA,{f:1,jc:"center",ai:"center",id:"admin-dataview-create-dlg",children:(0,s.jsx)(i.p,{maxHeight:"90vh",children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1316330238 ",children:(0,s.jsx)(m.G,{id:"admin-eo",name:B,numColumns:V,mode:"add",onSave:async(e,t)=>{try{let e=e_.load(t),r=eM.data.items.find(t=>t.id===e.getId());if(r)throw{error:"This id already exists"};let s=await c.bl.post(U,ex(e.create().getData()));if(s.isError)throw s.error;e7(),eJ(!1),e9.show(B+" created",{message:e.getId()})}catch(e){throw console.log("original error: ",e,e.flatten()),(0,x.E)("error",null,e instanceof z.z.ZodError?e.flatten():e)}},model:e_,extraFields:{...ep,...eN,...eC},icons:ec,customFields:{...eg,...eI},...eF})})})})}),(0,s.jsx)(C.a,{integratedChat:!0,p:"$1",pt:"$5",pl:"$5",hideAccept:!0,acceptCaption:"Save",setOpen:e=>{e5(void 0),eK("item")},open:eL.item,description:"",children:(0,s.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _jc-center _ai-center ",children:(0,s.jsx)(i.p,{maxHeight:"90vh",children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1316330238 ",children:(0,s.jsx)(m.G,{disableToggleMode:ev,initialData:e1,name:B,spinnerSize:75,loadingText:(0,s.jsxs)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center ",children:["Loading data for ",B,(0,s.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-bold _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:eL.item})]}),objectId:eL.item,sourceUrl:U+"/"+eL.item,numColumns:V,mode:eb,onSave:async(e,t)=>{try{e5(void 0);let r=e_.load(t).getId(),s=await c.bl.post(U+"/"+r,em(e_.load(e).update(e_.load(t)).getData()));if(s.isError)throw s.error;e7();let{item:a,...i}=eL;eW(i),e9.show(B+" updated",{message:"Saved new settings for: "+r})}catch(e){throw(0,x.E)("error",null,e instanceof z.z.ZodError?e.flatten():e)}},model:e_,extraFields:{...ep,...eN,...eS},icons:ec,customFields:{...eg,...eI},...eF})})})})}),(0,s.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558152 _pr-1316330300 _pl-1316330300 _mb-1481558276 ",children:[(0,s.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _l--12px _fg-1 _ai-center ",children:[(0,s.jsx)("p",{className:es,children:(0,s.jsx)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _fos-229441251 _col-137137671 ",children:ei?ei.charAt(0).toUpperCase()+ei.slice(1):B.charAt(0).toUpperCase()+B.slice(1)+"s"})}),e6?(0,s.jsx)(I.I,{children:(0,s.jsx)(G.o,{type:"global",sourceUrl:"",hideDeleteButton:!0,element:"",extraMenuActions:eA})}):(0,s.jsx)(s.Fragment,{}),eO]}),(0,s.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",children:[(0,s.jsx)("div",{className:er,children:eV.isLoaded&&(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ml-1481558214 ",children:(0,s.jsxs)("div",{className:et,children:[(0,s.jsx)("div",{className:et,children:(0,s.jsxs)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _fos-14px _col-137137640 ",children:[eV.data.itemsPerPage*eV.data.page+1,"-",Math.min(eV.data.total,eV.data.itemsPerPage*(eV.data.page+1))," of ",eV.data.total]})}),(0,s.jsxs)(I.I,{children:[(0,s.jsx)(Y.z,{Icon:Z.s,onPress:e=>{e.stopPropagation(),eV.data.page>0&&eH("page",eV.data.page-1)},ml:"$3",disabled:!(eV.data.page>0)}),(0,s.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-1481558152 _miw-1481558152 _fs-0 _pe-none _w-1481558152 _h-1481558152 "}),(0,s.jsx)(Y.z,{Icon:T._,onPress:e=>{e.stopPropagation(),eV.data.page<tr-1&&eH("page",eV.data.page+1)},ml:"$3",disabled:!(eV.data.page<tr-1)})]})]})})}),(0,s.jsxs)("div",{className:er,children:[!w&&(0,s.jsx)(P.Z,{marginRight:"$3",children:te.map((e,t)=>(0,s.jsx)(k.Z,{onSetActive:()=>eH("view",e.name),activeId:t,children:n.createElement(e.icon,{size:"$1",strokeWidth:1})},t))}),!en&&(0,s.jsx)(I.I,{children:(0,s.jsx)(l.zx,{id:"admin-dataview-add-btn",hoverStyle:{o:1},o:.7,circular:!0,onPress:()=>{e$?e$():eJ(!0)},chromeless:!0,children:(0,s.jsx)($.v,{color:"$color10"})})})]})]})]}),eM&&eM.isError&&(0,s.jsx)(O.q,{children:(0,s.jsx)("p",{className:es,children:(0,L.e)(eM.error)})}),(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:(0,s.jsx)(N.Z,{atom:eV,children:te.map((e,t)=>(0,s.jsx)(H.Z,{height:"100%",activeId:t,children:n.createElement(e.component,{...e.props})},t))})})]})})})})}r(42937)},24066:function(e,t,r){"use strict";r.d(t,{G:function(){return el}});var s=r(52322),a=r(80939),i=r(66306),l=r(84291),n=r(45734),o=r(59928),d=r(36907),c=r(8939),_=r(52026),p=r(60545),u=r(89560),m=r(32627),x=r(60166),h=r(57441),f=r(7324),b=r(99062),v=r(57909),g=r(91838),w=r(51813),j=r(48715),y=r(4273);function N(e){let{showLabel:t=!0,containerProps:r,defaultValue:a,children:i,...l}=e;return(0,s.jsxs)(c.sL,{f:1,...r,children:[(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",children:(0,s.jsxs)(y.iR,{f:1,defaultValue:[50],min:0,max:100,step:1,...l,children:[(0,s.jsx)(y.iR.Track,{f:1,children:(0,s.jsx)(y.iR.TrackActive,{})}),(0,s.jsx)(y.iR.Thumb,{index:0,size:"$1",circular:!0,elevate:!0}),i]})}),t&&(0,s.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _fs-0 _ai-flex-end _miw-40px _t--8px ",children:l.value})]})}r(5006);var S=r(6289),C=r(26887),I=r(48115),P=r(99553),k=r(10836),O=r(96666),$=r(53726),A=r(2784),E=r(9393),D=r(55858),F=r(75370),Z=r(57643),T=r(94484),z=r(96455);function R(e){let{choices:t,defaultSelections:r=[],onSetSelections:a,maxHeight:i="150px"}=e,l=(0,A.useRef)(null),[n,o]=(0,A.useState)(!1),[d,_]=(0,A.useState)(r),p=(e,r)=>{let s=t[t.indexOf(r)];if(d.includes(s)){let e=d.filter(e=>e!==s);a(e),_(e)}else{let e=d.concat(s);a(e),_(e)}};return(0,s.jsx)(g.I,{children:(0,s.jsxs)("div",{ref:l,onClick:()=>o(e=>!e),className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _bg-115898854 _w-10037 _h-797770429 _jc-441309761 _ai-center _pr-10px _pl-10px _pt-7px _pb-7px _btlr-6px _btrr-6px _bbrr-6px _bblr-6px _outlineColor-791969495 _outlineWidth-1px _outlineStyle-solid _btc-791969495 _brc-791969495 _bbc-791969495 _blc-791969495 _cur-pointer ",children:[(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fw-wrap _h-797770429 _ox-hidden _oy-hidden _fg-1 _gap-1481558245 ",children:d.length>0?d.map((e,t)=>(0,s.jsx)("p",{onClick:t=>p(t,e),className:"  is_Paragraph _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body  _pr-7px _pl-7px _pt-4px _pb-4px _bg-549765356 _btlr-4px _btrr-4px _bbrr-4px _bblr-4px _col-white ",children:e},t)):(0,s.jsx)("p",{className:"  is_Paragraph _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-791969557 _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _pr-7px _pl-7px _pt-4px _pb-4px _btlr-4px _btrr-4px _bbrr-4px _bblr-4px font_body ",children:"Select"})}),(0,s.jsx)(x._,{}),n?(0,s.jsx)(c.FA,{zIndex:999,position:"absolute",top:"130%",left:"0%",width:"100%",backgroundColor:"$gray1",paddingHorizontal:"7px",paddingVertical:"7px",borderRadius:4,outlineColor:"$gray6",outlineWidth:1,outlineStyle:"solid",borderColor:"$borderColor",maxHeight:i,gap:"$1.5",overflow:"scroll",children:t.map((e,t)=>d.includes(e)?(0,s.jsx)("p",{onClick:t=>p(t,e),className:"  is_Paragraph _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ussel-auto   _cur-0hover-pointer _pr-10px _pl-10px _pt-7px _pb-7px _btlr-4px _btrr-4px _bbrr-4px _bblr-4px _fos-229441220 _col-675002279 _ff-299667014 _fow-233016140 _ls-167744059 _lh-222976573 _bg-549765356 font_body ",children:e},t):(0,s.jsx)("p",{onClick:t=>p(t,e),className:"  is_Paragraph _bg-0hover-744986709 _cur-0hover-pointer _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-675002279 _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _pr-10px _pl-10px _pt-7px _pb-7px _btlr-4px _btrr-4px _bbrr-4px _bblr-4px font_body ",children:e}))}):null]})})}r(94611);var L=r(70396);let W="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 ",q="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _mt-1316330145 ",M=" _mt-1481558400",U=" _mt-1481558214",V=" _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _ml-1481558276  ",B="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",G=e=>e&&e[0].toUpperCase()+e.slice(1),J={color:"var(--color9)",size:"$1",strokeWidth:1},H=e=>{var t;let{ele:r,i,icon:l,children:n,inArray:o=!1}=e;return(0,s.jsxs)("fieldset",{className:(0,L.concatClassName)("  is_Fieldset _ai-stretch _dsp-flex _fd-column _bxs-border-box _pos-relative _mih-0px _miw-0px  _gap-1481558214 _fg-1 _fs-1 _fb-auto  "+(i?" _ml-1316330238":" _ml-1481558400")),children:[!o&&(0,s.jsxs)(a.__,{fontWeight:"bold",children:[(0,s.jsx)(g.I,{children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558214 ",children:A.createElement(l,J)})}),null!==(t=r._def.label)&&void 0!==t?t:r.name]}),o&&(0,s.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-1481558276 _miw-1481558276 _fs-0 _pe-none _w-1481558276 _h-1481558276 "}),n]},i)},X={ZodString:"",ZodNumber:"0",ZodBoolean:!0,default:""},K=e=>X.hasOwnProperty(e)?X[e]:"ZodArray"==e?[]:"ZodObject"==e?{}:X.default,Q=e=>{var t;let{ele:r,elementDef:a,icon:l,path:n,arrData:o,getElement:d,setFormData:c,data:_,setData:p,mode:m,customFields:x}=e;return(0,s.jsxs)(er,{ele:r,title:" ("+o.length+")",icon:v.S,path:n,children:[(0,s.jsx)("div",{className:B,children:o.map((e,t)=>(0,s.jsxs)("div",{className:(0,L.concatClassName)(""+(V+(t?U:M))),children:["ZodObject"!=a.type._def.typeName&&(0,s.jsx)(g.I,{children:(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558214 _t-20px ",children:"edit"==m||"add"==m?(0,s.jsx)(u.z,{...J}):(0,s.jsx)(f.$,{...J})})}),d({ele:{...a.type._def,_def:a.type._def,name:t},icon:l,i:0,x:0,data:_,setData:p,mode:m,customFields:x,path:[...n,r.name],inArray:!0,arrayName:r.name}),("edit"==m||"add"==m)&&(0,s.jsx)("div",{onClick:()=>{o.splice(t,1),c(r.name,[...o])},className:(0,L.concatClassName)(" _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ml-1481558214 _t-13px _btlr-1307610029 _btrr-1307610029 _bbrr-1307610029 _bblr-1307610029 _pt-1481558214 _pr-1481558214 _pb-1481558214 _pl-1481558214 _als-flex-start _cur-pointer  _bg-0hover-312414245 _o-0active-0d0t746  "+("ZodObject"!=a.type._def.typeName?" ":"  _pos-absolute _r-1316330269 _t-6px")),children:(0,s.jsx)(h.X,{color:"var(--red7)",strokeWidth:2,size:20})})]},t))}),("edit"==m||"add"==m)&&(0,s.jsxs)(i.zx,{mt:"$4",onPress:()=>{let e="ZodLazy"==r._def.typeName?r._def.getter()._def:r._def;"ZodOptional"==e.typeName?e.innerType._def.type._def.typeName:e.type._def.typeName,c(r.name,[...o,K(a.type._def.typeName)])},children:["Add",null!==(t=r._def.label)&&void 0!==t?t:r.name]})]})},Y=e=>{let{ele:t,elementDef:r,icon:a,path:i,data:l,setData:n,mode:o,customFields:d,inArray:c,arrayName:_,getFormData:p}=e;return(0,s.jsx)(er,{simple:!0,ele:t,title:c?t._def.keyName?p(t._def.keyName,[...i,t.name]):_+" #"+(t.name+1):t.name,icon:b.a,path:i,children:(0,s.jsx)("div",{className:B,children:Object.keys(r.shape()).map((e,c)=>{let _=r.shape();return(0,s.jsx)("div",{className:(0,L.concatClassName)(" _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  "+(c?" _mt-1316330238":M)),children:es({ele:{..._[e],name:e},icon:a,i:0,x:0,data:l,setData:n,mode:o,customFields:d,path:[...i,t.name]})},c)})})})},ee=e=>{let{ele:t,icon:r,i:a,inArray:i,eleArray:l,formData:n,generatedOptions:o,setFormData:d}=e,c=["ZodNumber","ZodString","ZodLiteral"],_=l.map(e=>c.includes(e.typeName)?String(e.value):JSON.stringify(e.value));return(0,s.jsx)(H,{ele:t,icon:r,i:a,inArray:i,children:(0,s.jsx)(R,{choices:o.length?o:_,defaultSelections:n,onSetSelections:e=>d(t.name,e)})})},et=e=>{let{ele:t,inArray:r,recordData:a,elementDef:n,icon:o,data:d,setData:c,mode:_,customFields:p,path:u,setFormData:m}=e,[x,h]=(0,A.useState)(!1),[f,v]=(0,A.useState)(""),g=(0,A.useRef)(null),[j,y]=(0,A.useContext)(ei);(0,A.useEffect)(()=>{if(x){let e=setTimeout(()=>{var e;null===(e=g.current)||void 0===e||e.focus()},100);return()=>clearTimeout(e)}},[x]);let N=async()=>{let e=K(t._def.valueType._def.typeName),r=[...u,t.name,f].join("/");console.log("ID",r),h(!1),v(""),y(function(e,t){let r=t.substring(0,t.lastIndexOf("/")+1),s=e.filter(e=>!e.startsWith(r)||e===r);return s.push(t),s}(j,r)),m(t.name,{...a,[f]:e})};return(0,s.jsxs)(er,{ele:t,title:r?" #"+(t.name+1):"...",icon:b.a,path:u,children:[(0,s.jsx)("div",{className:B,children:a?Object.keys(a).map((e,r)=>(0,s.jsx)("div",{className:(0,L.concatClassName)(""+(V+(r?U:M))),children:es({ele:{...n.valueType,name:e},icon:o,i:0,x:0,data:d,setData:c,mode:_,customFields:p,path:[...u,t.name]})},r)):null}),(0,s.jsx)(w.a,{acceptCaption:"Add field",setOpen:h,open:x,onAccept:N,title:"Add new field",description:"",children:(0,s.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _ai-center _mt-1316330269 _jc-center ",children:(0,s.jsx)(l.II,{f:1,value:f,onChangeText:e=>v(e),textAlign:"center",id:"name",placeholder:"Field name...",ref:g,onKeyPress:e=>{"Enter"===e.key&&N()}})})}),("edit"==_||"add"==_)&&(0,s.jsx)(i.zx,{mt:"$5",onPress:()=>{h(!0)},children:" Add field"})]})},er=e=>{let{ele:t,title:r,children:a,icon:i,simple:l=!1,path:d}=e,[c,_]=(0,A.useContext)(ei),p=[...d,t.name].join("/"),u=(0,s.jsx)("div",{className:(0,L.concatClassName)(" _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _btlr-1307610029 _btrr-1307610029 _bbrr-1307610029 _bblr-1307610029 _fg-1  _bxsh-0hover-1591983028  "+(c.includes(p)?"  _bxsh-1591983028":" ")),children:(0,s.jsx)(n.U,{value:c,onValueChange:e=>_(e),onPress:e=>e.stopPropagation(),type:"multiple",boc:"$gray6",f:1,children:(0,s.jsxs)(n.U.Item,{br:"$5",bw:1,boc:"$gray6",value:p,children:[(0,s.jsx)(n.U.Trigger,{p:0,px:8,height:43,bc:"$transparent",focusStyle:{bc:"$transparent"},br:c.includes(p)?"$0":"$5",btlr:"$5",btrr:"$5",bw:"$0",flexDirection:"row",ai:"center",children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.I,{children:l?A.createElement(i,J):(0,s.jsx)(s.Fragment,{})}),(0,s.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-1481558214 _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:r}),(0,s.jsx)("span",{className:"  is_Spacer _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-1316330176 _miw-1316330176 _fs-1 _w-1316330176 _h-1316330176 _pe-none _fg-1 "}),(0,s.jsx)(o.b,{animation:"quick",rotate:t?"180deg":"0deg",children:(0,s.jsx)(x._,{size:"$1"})})]})}}),(0,s.jsx)(n.U.Content,{br:"$5",children:a})]})})});return l?u:(0,s.jsx)(H,{ele:t,icon:i,i:0,children:u})},es=e=>{var t,r,a,i,n,o;let{ele:c,icon:_,i:p,x:u,data:m,setData:x,mode:h,customFields:f={},path:b=[],inArray:v=!1,arrayName:w=""}=e,y=null!==(a=null===(r=c._def)||void 0===r?void 0:null===(t=r.innerType)||void 0===t?void 0:t._def)&&void 0!==a?a:c._def,S=(e,t)=>{let r=m;b.forEach(e=>{Array.isArray(r)||r.hasOwnProperty(e)||(r[e]={}),r=r[e]}),r[e]=t,x({data:m})},C=(e,t)=>{let r=null!=m?m:{};for(let e of null!=t?t:b)("object"==typeof r&&r.hasOwnProperty(e)||Array.isArray(r)&&r.length>e)&&(r=r[e]);return"string"==typeof r?r:r&&r.hasOwnProperty(e)?r[e]:""},I=y.typeName;if("ZodLazy"==I){let e=y.getter();y=e._def,I=e.constructor.name,e.name=c.name,c=e}if(f.hasOwnProperty(c.name)||f.hasOwnProperty("*")){let e=f.hasOwnProperty(c.name)?f[c.name]:f["*"],t="function"==typeof e.component?e.component(b,C(c.name),e=>S(c.name,e),h,m):e.component;if(t)return e.hideLabel?t:(0,s.jsx)(H,{ele:c,icon:_,i:p,inArray:v,children:t})}if("ZodUnion"==I&&"preview"!=h){let e=y.displayOptions?y.displayOptions:y.options.map(e=>e._def.value),t=y.options.map(e=>e._def.value);c._def.dependsOn&&m&&m[c._def.dependsOn]&&"function"==typeof c._def.generateOptions&&(t=[...e=c._def.generateOptions(m)]);let r=c._def.dependsOn,a=c._def.dependsOnValue;return(0,s.jsx)(H,{ele:c,icon:_,i:p,inArray:v,children:r?m[r]?a?a==m[r]?(0,s.jsx)(j.E,{f:1,data:m,title:c.name,elements:e,value:e[t.indexOf(C(c.name))],setValue:r=>S(c.name,t[e.indexOf(r)])}):(0,s.jsx)(l.II,{focusStyle:{outlineWidth:1},disabled:!0,placeholder:c._def.hint?c._def.hint:"Fill "+r+" property first",bc:"$backgroundTransparent"}):(0,s.jsx)(j.E,{f:1,data:m,title:c.name,elements:e,value:e[t.indexOf(C(c.name))],setValue:r=>S(c.name,t[e.indexOf(r)])}):(0,s.jsx)(l.II,{focusStyle:{outlineWidth:1},disabled:!0,placeholder:c._def.hint?c._def.hint:"Fill "+r+" property first",bc:"$backgroundTransparent"}):(0,s.jsx)(j.E,{f:1,data:m,title:c.name,elements:e,value:e[t.indexOf(C(c.name))],setValue:r=>S(c.name,t[e.indexOf(r)])})})}if("ZodNumber"==I&&"preview"!=h){if(y.checks){let e=y.checks.find(e=>"min"==e.kind),t=y.checks.find(e=>"max"==e.kind);if(e&&t)return(0,s.jsx)(H,{ele:c,icon:_,i:p,inArray:v,children:(0,s.jsx)(g.I,{children:(0,s.jsx)("div",{className:q,children:(0,s.jsx)(N,{onValueChange:e=>S(c.name,e),value:[null!==(i=C(c.name))&&void 0!==i?i:e.value],width:190,min:e.value,max:t.value})})})})}}else if("ZodObject"==I)return(0,s.jsx)(Y,{ele:c,elementDef:y,icon:_,path:b,data:m,setData:x,mode:h,customFields:f,inArray:v,arrayName:w,getFormData:C});else if("ZodArray"==I){let e=C(c.name)?C(c.name):[],t=[];"function"==typeof c._def.generateOptions&&(t=c._def.generateOptions(m));let r=!c._def.innerType&&"ZodUnion"===c._def.type._def.typeName;return r?(0,s.jsx)(ee,{ele:c,icon:_,i:p,inArray:v,eleArray:c._def.type._def.options,formData:e,generatedOptions:t,setFormData:S}):(0,s.jsx)(Q,{data:m,setData:x,mode:h,ele:c,elementDef:y,icon:_,customFields:f,path:b,arrData:e||t,getElement:es,setFormData:S})}else if("ZodRecord"==I){let e=C(c.name);return(0,s.jsx)(et,{ele:c,inArray:v,recordData:e,elementDef:y,icon:_,data:m,setData:x,mode:h,customFields:f,path:b,setFormData:S})}else if("ZodBoolean"==I){let e=C(c.name);return(0,s.jsx)(H,{ele:c,icon:_,i:p,inArray:v,children:(0,s.jsx)(g.I,{children:(0,s.jsx)("div",{className:q,children:(0,s.jsx)(d.rs,{disabled:"add"!=h&&"edit"!=h,checked:e,onCheckedChange:e=>S(c.name,e),size:"$2",children:(0,s.jsx)(d.rs.Thumb,{animation:"quick"})})})})})}let P="";return"function"!=typeof c._def.generateOptions||(P=c._def.generateOptions(),C(c.name)||S(c.name,P)),(0,s.jsx)(H,{ele:c,icon:_,i:p,inArray:v,children:(0,s.jsx)("div",{className:W,children:(0,s.jsx)(l.II,{id:"editable-object-input-"+(null==c?void 0:c.name),..."edit"!=h&&"add"!=h?{bw:0,forceStyle:"hover"}:{},focusStyle:{outlineWidth:1},disabled:"view"==h||"preview"==h||"edit"==h&&c._def.static||c._def.dependsOn&&!m[c._def.dependsOn],secureTextEntry:c._def.secret,value:P&&!C(c.name)?P:C(c.name),onChangeText:e=>S(c.name,"ZodNumber"==c._def.typeName?e.replace(/[^0-9.-]/g,""):e),placeholder:m?null!==(o=null!==(n=c._def.hint)&&void 0!==n?n:c._def.label)&&void 0!==o?o:"number"==typeof c.name?"...":c.name:"",autoFocus:0==u&&0==p,onBlur:()=>{if("ZodNumber"==c._def.typeName){let e=parseFloat(C(c.name));isNaN(e)||S(c.name,e)}},bc:"$backgroundTransparent"})})})},ea=e=>{let{index:t,data:r,width:a}=e;r.ele._def.size,r.ele._def.numColumns;let i=r.ele._def.size||1;return(0,s.jsx)(c.sL,{f:1,width:a*i+(i-1)*(r.columnMargin/i),mb:"$0",children:es({ele:r.ele,icon:r.icon,i:r.i,x:r.x,data:r.data||r.defaultData,setData:r.setData,mode:r.mode,customFields:r.customFields})},r.x)},ei=(0,A.createContext)([[],e=>{}]),el=e=>{let{externalErrorHandling:t,error:r,setError:a,data:l,setData:n,EditIconNearTitle:o=!1,autoWidth:d=!1,columnMargin:x=30,columnWidth:f=350,extraMenuActions:b,disableToggleMode:v,name:j,initialData:y,loadingTop:N,spinnerSize:R,loadingText:q,title:U,sourceUrl:V=null,onSave:J,mode:H="view",model:X,icons:K={},extraFields:Q={},numColumns:Y=1,objectId:ee,onDelete:et=()=>{},deleteable:er=()=>!0,customFields:es={},...el}=e,[en,eo]=(0,A.useState)(null!=y?y:(0,S.E)("pending")),[ed,ec]=(0,A.useState)(H),[e_,ep]=(0,A.useState)(""),[eu,em]=(0,A.useState)(en),ex=l&&n;l&&n||(l=eu,n=em),console.log("using data: ",l);let[eh,ef]=(0,A.useState)(!1),[eb,ev]=(0,A.useState)();r&&a||t||(r=eb,a=ev);let[eg,ew]=(0,A.useState)(!1),[ej,ey]=(0,A.useState)(!1),[eN,eS]=(0,A.useState)(!1),eC=(0,A.useRef)(),[eI,eP]=(0,A.useState)([]);(0,C.a)(e=>{"add"!=H&&I.bl.get(V,e)},eo,y),(0,A.useEffect)(()=>{en.data&&n(en)},[en]),(0,Z.rf)(()=>ec(H),[H]),(0,Z.rf)(()=>{eN?ey(!0):eS(!0)},[l]);let ek=(0,A.useMemo)(()=>{let e=X.load(l.data),t=D.U.load(F.V_.object(Q)),r=e.getObjectSchema().isDisplay(ed).merge(t).getLayout(1),s={},a={};return r.forEach((e,t)=>e.forEach((e,r)=>{var i,o;let d=K[e.name]?K[e.name]:"edit"==ed||"add"==ed?u.z:m.V,c=null!==(i=e._def.group)&&void 0!==i?i:0;s.hasOwnProperty(c)||(s[c]=[]),e._def.hasOwnProperty("defaultValue")&&(a[e.name]=e._def.defaultValue),s[c].push({id:t+"_"+r,icon:d,i:r,x:t,ele:e,data:l.data,setData:n,mode:ed,size:null!==(o=e._def.size)&&void 0!==o?o:1,numColumns:Y,customFields:es,columnMargin:x,defaultData:a})})),s},[Q,l,X,x,Y,ed,H,en]),eO=(0,A.useMemo)(()=>Object.keys(ek).map((e,t)=>(0,s.jsxs)(c.sL,{ref:eC,mt:"$0",width:d?"100%":f*Y+x,f:1,children:[(0,s.jsx)("div",{className:W,children:(0,s.jsx)(P.rj,{masonry:!1,containerRef:eC,spacing:x/2,data:ek[e],card:ea,itemMinWidth:f,columns:Y})}),"preview"==ed&&(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _t-1316333059 ",children:(0,s.jsx)(z.o,{type:"item",sourceUrl:V,onDelete:et,deleteable:er,element:X.load(l.data),extraMenuActions:b})})]})),[x,ek,f,Y]),{tint:e$}=(0,T.d5)();return(0,s.jsx)(ei.Provider,{value:[eI,eP],children:(0,s.jsxs)(_.Stack,{width:"100%",...el,children:[(0,s.jsx)(w.a,{showCancel:!0,acceptCaption:"Discard",cancelCaption:"Keep editing",onAccept:async()=>{let e=await I.bl.get(V);eo(e),ec("view")},cancelTint:e$,acceptTint:"red",open:eg,setOpen:ew,title:"Are you sure you want to leave?",description:"",children:(0,s.jsx)(k.Z,{mt:"$5",children:"All unsaved changes will be lost"})}),(0,s.jsx)(O.Z,{forceLoad:"add"==ed||l.data,waitForLoading:1e3,spinnerSize:R,loadingText:null!=q?q:"Loading "+ee,top:null!=N?N:-30,atom:l,children:(0,s.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _w-10037 ",children:[(0,s.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",children:[U&&(0,s.jsx)("div",{className:(0,L.concatClassName)(" _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _mr-1316330238  "+(o?" _fg-0 _fs-1 _fb-auto":" _fg-1 _fs-1 _fb-auto")),children:(0,s.jsxs)("span",{className:"  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _fow-bold _fos-40px ",children:[(0,s.jsx)(g.I,{children:(0,s.jsx)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-549765294 ",children:G(ed)})}),(0,s.jsxs)("span",{className:"  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-137137671 ",children:[" ",G(j)]})]})}),!v&&("view"==ed||"edit"==ed)&&(0,s.jsx)("div",{onClick:async()=>{"edit"==ed&&ej?ew(!0):(ep(ed),ec("view"==ed?"edit":"view"))},className:"  _o-0active-0d0t846 _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0  _cur-pointer ",children:(0,s.jsx)(g.I,{children:(0,s.jsx)("div",{className:B,children:"view"==ed?(0,s.jsx)(u.z,{color:"var(--color8)"}):"view"==e_?(0,s.jsx)(h.X,{color:"var(--color8)"}):null})})})]}),(0,s.jsxs)("div",{className:(0,L.concatClassName)(" _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _w-10037 _fg-1  _ai-center _jc-center  "+(U?" _mt-1316330300":M)),children:[r&&(0,s.jsx)($.q,{children:(0,s.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,E.e)(r.error)})}),eO,"preview"!=ed&&(0,s.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _mt-1316330145 _pt-1481558214 _pr-1481558214 _pb-1316330238 _pl-1481558214 _w-10037 _fg-1 _als-center ",children:("add"==ed||"edit"==ed)&&!ex&&(0,s.jsx)(g.I,{children:(0,s.jsx)(i.zx,{f:1,onPress:async()=>{ef(!0);try{await J(en.data,l.data),e_!=ed&&ec(e_)}catch(e){a(e),console.log("e: ",e)}ef(!1)},children:eh?(0,s.jsx)(p.$,{}):"add"==ed?"Create":"Save"})})})]})]})})]})})};r(45855)},99553:function(e,t,r){"use strict";r.d(t,{rj:function(){return u}});var s=r(52322),a=r(52026),i=r(8939),l=r(2784),n=r(23724),o=r(11667),d=r(23510);let c={width:0,height:0},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,s]=(0,l.useState)(c);return(0,l.useLayoutEffect)(()=>{let{current:t}=e;if(t){let e=()=>{let e=getComputedStyle(t),r=parseFloat,a=t.clientWidth-r(e.paddingTop)-r(e.paddingBottom),i=t.clientHeight-r(e.paddingLeft)-r(e.paddingRight);s({height:i,width:a})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}},t.concat(e.current)),r},p=e=>{let[t,r]=(0,l.useState)(!1),[s,a]=(0,l.useState)(0);return(0,l.useLayoutEffect)(()=>{let t;let{current:r}=e;if(r){let e=()=>{t||(t=window.requestAnimationFrame(()=>{a(r.scrollTop),t=void 0}))};return console.log("scrollAbleNode: ",r),r.addEventListener("scroll",e),()=>{r.removeEventListener("scroll",e),t&&window.cancelAnimationFrame(t)}}},[e.current]),(0,l.useLayoutEffect)(()=>{r(!0);let e=window.setTimeout(()=>{r(!1)},1e3/6);return()=>window.clearTimeout(e)},[s]),{scrollTop:s,isScrolling:t}},u=l.forwardRef((e,t)=>{let{overScanBy:r=5,masonry:c=!0,containerRef:u,rightGap:m=0,spacing:x,children:h,data:f,card:b,columns:v,itemMinWidth:g=200,gap:w}=e;if(a.isWeb&&f&&b){if(c&&u){var j,y;let e={current:(null===(j=u.current)||void 0===j?void 0:j.container)?null==u?void 0:null===(y=u.current)||void 0===y?void 0:y.container.firstChild:u.current},{width:t,height:s}=_(e),{scrollTop:a,isScrolling:i}=p(e),l=(0,n.G)({width:Math.max(0,t-m),columnGutter:x,columnWidth:g}),c=(0,o.y)(l);return(0,d.$)({positioner:l,scrollTop:a,isScrolling:i,height:s,items:f,overscanBy:r,resizeObserver:c,render:b})}return(0,s.jsx)(i.sL,{flexWrap:"wrap",children:f.map((e,t)=>(0,s.jsxs)(a.Stack,{m:x/2,children:[" ",l.createElement(b,{index:e.index,data:{...e},width:g})," "]},t))})}if(a.isWeb)return(0,s.jsx)("div",{ref:t,style:{gap:w,display:"grid",gridTemplateColumns:"repeat( auto-fill, minmax(".concat(g,"px, 1fr) )")},children:h});let N=l.Children.toArray(h);return(0,s.jsx)(i.sL,{alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:N.map((e,t)=>e?(0,s.jsx)(i.sL,{flex:1,minWidth:g,marginRight:w,marginBottom:w,children:e},t):null)})})},71932:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(52322),a=r(8939),i=r(70396);let l=e=>{let{Icon:t,disabled:r=!1,size:l=18,...n}=e;return(0,s.jsx)(a.sL,{cursor:r?"dafault":"pointer",...n,children:(0,s.jsx)("div",{className:(0,i.concatClassName)(" _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _o-0d0t546 _btlr-1307610029 _btrr-1307610029 _bbrr-1307610029 _bblr-1307610029 _pt-1481558214 _pr-1481558214 _pb-1481558214 _pl-1481558214 _als-flex-start  "+(r?" _cur-dafault":" _o-0hover-1 _bg-0hover-549765418 _o-0active-0d0t746 _cur-pointer")),children:(0,s.jsx)(t,{size:l,color:r?"var(--gray9)":"var(--color9)",strokeWidth:2})})})};r(53481)},96455:function(e,t,r){"use strict";r.d(t,{o:function(){return x}});var s=r(52322),a=r(52026),i=r(86838),l=r(51813),n=r(48115),o=r(2784),d=r(91838),c=r(10281),_=r(13742),p=r(71932),u=r(85077),m=r(70396);let x=e=>{let{type:t,sourceUrl:r="",enableAddToInitialData:x=!1,onDelete:h,element:f,deleteable:b,extraMenuActions:v=[],hideDeleteButton:g,...w}=e,[j,y]=(0,o.useState)(!1),[N,S]=(0,o.useState)(!1),{selected:C,setSelected:I,model:P}=(0,o.useContext)(u.p),k=e=>{let{type:t,text:r,Icon:a,onPress:i,disabled:l}=e;return(0,s.jsxs)("div",{onClick:e=>{l||(i("global"===t?"*":f,e),y(!1))},className:(0,m.concatClassName)(" _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ml-1481558276 _o-1 _btlr-1307610029 _btrr-1307610029 _bbrr-1307610029 _bblr-1307610029 _pt-1481558152 _pr-1481558152 _pb-1481558152 _pl-1481558152 _als-flex-start  "+(l?" _cur-default":" _bg-0hover-549765418 _o-0active-0d0t746 _cur-pointer")),children:[(0,s.jsx)(a,{size:"$1",color:l?"var(--gray9)":"var(--color9)",strokeWidth:2}),(0,s.jsx)("span",{className:"  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-1481558152 ",children:r})]})};return(0,s.jsxs)(a.Stack,{...w,children:[(0,s.jsx)(l.a,{acceptCaption:"Delete",setOpen:S,open:N,onAccept:async e=>{if(Array.isArray(f)&&r){let e=f.map(e=>n.bl.get("".concat(r,"/").concat(P.load(e).getId(),"/delete")));await Promise.all(e),I([])}else r&&await n.bl.get("".concat(r,"/delete"));await h(r),e(!1)},title:"Delete ",description:"Are you sure want to delete this item?",w:280,children:(0,s.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _jc-center _ai-center "})}),(0,s.jsxs)(i.J2,{onOpenChange:y,open:j,placement:"bottom",children:[(0,s.jsx)(i.J2.Trigger,{children:(0,s.jsx)(p.z,{Icon:c.h,onPress:e=>{e.stopPropagation(),y(!0)},ml:"$3"})}),(0,s.jsx)(i.J2.Content,{padding:0,space:0,left:"$7",top:"$2",bw:1,boc:"$borderColor",bc:"$color1",children:(0,s.jsx)(d.I,{children:(0,s.jsx)("div",{onClick:e=>e.stopPropagation(),className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center _pt-1481558152 _pr-1481558152 _pb-1481558152 _pl-1481558152 ",children:(0,s.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:[v.map((e,r)=>{var a;return(!e.menus&&"item"===t||e.menus&&(null===(a=e.menus)||void 0===a?void 0:a.includes(t)))&&e.isVisible&&e.isVisible(f)&&(0,s.jsx)(k,{type:t,text:e.text,Icon:e.icon,onPress:e.action},r)}),!1,g?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(k,{type:t,text:"Delete",Icon:_.V,disabled:!b(f),onPress:(e,t)=>{t.stopPropagation(),S(!0),y(!1)}})]})})})})]})]})};r(56538)},1888:function(e,t,r){"use strict";r.d(t,{F7:function(){return l},eq:function(){return n}});var s=r(44499),a=r(66137),i=r(48115);let l=e=>s.l.SSR?e:void 0;function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(async l=>{var n,o,d,c,_,p;let u={itemsPerPage:parseInt(l.query.itemsPerPage)?parseInt(l.query.itemsPerPage):"",page:parseInt(l.query.page,10)?parseInt(l.query.page,10):"",search:null!==(n=l.query.search)&&void 0!==n?n:"",orderBy:null!==(o=l.query.orderBy)&&void 0!==o?o:"",orderDirection:null!==(d=l.query.orderDirection)&&void 0!==d?d:"",view:null!==(c=l.query.view)&&void 0!==c?c:"",item:null!==(_=l.query.item)&&void 0!==_?_:"",editFile:null!==(p=l.query.editFile)&&void 0!==p?p:"",..."function"==typeof r?await r(l):r},m="function"==typeof e?e(l):e;return(0,a.NA)(l,t,{sourceUrl:m,initialItems:await i.bl.get({url:(0,a.VM)(m,l),...u}),itemData:l.query.item?await i.bl.get((0,a.VM)(m+"/"+l.query.item,l)):"",extraData:{..."function"==typeof s?await s(l):s},pageState:{...u}})})}},26887:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var s=r(57643);let a=(e,t,r)=>(0,s.qR)(()=>{r&&"pending"!=r.status?t(r):e(t)})},82695:function(e,t,r){"use strict";r.d(t,{N:function(){return n},v:function(){return l}});var s=r(5632),a=r(57643);let i=(e,t)=>{let{[t]:r,...s}=e;return s},l=e=>{let{query:t}=(0,s.useRouter)();(0,a.rf)(()=>{e(t)},[t])},n=e=>{let{replace:t,push:r,query:a}=(0,s.useRouter)(),l=()=>Object.keys(e).reduce((t,r)=>""!==e[r]?{...t,[r]:e[r]}:t,{});return{push:function(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];r({query:{...a,...l(),[e]:t}},void 0,{shallow:s})},mergePush:e=>{r({query:{...a,...l(),...e}},void 0,{shallow:!0})},removePush:e=>{r({query:i(a,e)},void 0,{shallow:!0})},removeReplace:e=>{t({query:i(a,e)},void 0,{shallow:!0})},replace:(e,r)=>{t({query:{...a,...l(),[e]:r}},void 0,{shallow:!0})},mergeReplace:r=>{t({query:{...l(),...e,...r}},void 0,{shallow:!0})}}}},45855:function(){},57192:function(){},53481:function(){},42937:function(){},56538:function(){},1435:function(){},5006:function(){},18190:function(){},94611:function(){}}]);